<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Tarzan Pre-2.0 Trunk Build: AmazonSDB::get_attributes</title>
<link href="tarzan.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">
  <div class="navpath"><a class="el" href="a00004.html">AmazonSDB</a>
  </div>
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="a00004_c8e126eeec8a04b7693da7175af39d69.html#c8e126eeec8a04b7693da7175af39d69">__construct</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_91adb5f512c9e2f6225663bc3daea021.html#91adb5f512c9e2f6225663bc3daea021">create_domain</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_78594f382e633f8432115b2dd5b0e9cc.html#78594f382e633f8432115b2dd5b0e9cc">delete_attributes</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_ff027b1b53382a6292d9fe0101064174.html#ff027b1b53382a6292d9fe0101064174">delete_domain</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="a00004_8291d13e0983869c762759337a395e9d.html#8291d13e0983869c762759337a395e9d">get_attributes</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_631357b55145d23b091ac82f7a76b04f.html#631357b55145d23b091ac82f7a76b04f">list_domains</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_43caa054e9a0acb8dadef26977ba9b9b.html#43caa054e9a0acb8dadef26977ba9b9b">put_attributes</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_50152c2d14898b9050ef7bb038a832e0.html#50152c2d14898b9050ef7bb038a832e0">query</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top">
<a class="anchor" name="8291d13e0983869c762759337a395e9d"></a><!-- doxytag: member="AmazonSDB::get_attributes" ref="8291d13e0983869c762759337a395e9d" args="($domain_name, $item_name, $keys=null, $returnCurlHandle=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AmazonSDB::get_attributes           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>domain_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>item_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>returnCurlHandle</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get Attributes<p>
Returns all of the attributes associated with the item. Optionally, the attributes returned can be limited to one or more specified attribute name parameters. If the item does not exist on the replica that was accessed for this operation, an empty set is returned. The system does not return an error as it cannot guarantee the item does not exist on other replicas.<p>
public <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$domain_name (Required) The name of the domain to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$item_name (Required) The name of the item/object to create. This will contain various key-value pairs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$keys (Optional) The name of the key (attribute) in the key-value pair. Supports a string value (for single keys) or an indexed array (for multiple keys). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$returnCurlHandle (Optional) A private toggle that will return the CURL handle for the request rather than actually completing the request. This is useful for MultiCURL requests. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="a00008.html">TarzanHTTPResponse</a> </dd></dl>
<h2><a class="anchor" name="example">
Example Usage:</a></h2>
<div class="fragment"><pre class="fragment">&lt;?php
require_once(<span class="stringliteral">'tarzan.class.php'</span>);
<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Instantiate a new AmazonSDB object using the settings from the config.inc.php file.</span>
<span class="comment"> */</span>
$sdb = <span class="keyword">new</span> <a class="code" href="a00004.html">AmazonSDB</a>();

<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Return all of the "attribute" key-value pairs for this particular domain-item.</span>
<span class="comment"> */</span>
$get = $sdb-&gt;get_attributes(<span class="stringliteral">'warpshare_test'</span>, <span class="stringliteral">'user_data'</span>);

<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Look at the response to navigate through the headers and body of the response.</span>
<span class="comment"> * Note that this is an object, not an array, and that the body is a SimpleXML object.</span>
<span class="comment"> * </span>
<span class="comment"> * http://php.net/manual/en/simplexml.examples.php</span>
<span class="comment"> */</span>
echo <span class="stringliteral">'&lt;pre&gt;'</span>;
print_r($get);
echo <span class="stringliteral">'&lt;/pre&gt;'</span>;


<span class="comment">/*========================================================*/</span>

<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Return only the value for the "name" key.</span>
<span class="comment"> */</span>
$get = $sdb-&gt;get_attributes(<span class="stringliteral">'warpshare_test'</span>, <span class="stringliteral">'user_data'</span>, <span class="stringliteral">'name'</span>);

<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Return the values for the "name", "email", and "openid" keys.</span>
<span class="comment"> */</span>
$get = $sdb-&gt;get_attributes(<span class="stringliteral">'warpshare_test'</span>, <span class="stringliteral">'user_data'</span>, array(
        <span class="stringliteral">'name'</span>, 
        <span class="stringliteral">'email'</span>, 
        <span class="stringliteral">'openid'</span>
));


?&gt;
</pre></div> <dl class="see" compact><dt><b>See also:</b></dt><dd><a href="http://docs.amazonwebservices.com/AmazonSimpleDB/2007-11-07/DeveloperGuide/SDB_API_GetAttributes.html">http://docs.amazonwebservices.com/AmazonSimpleDB/2007-11-07/DeveloperGuide/SDB_API_GetAttributes.html</a> </dd></dl>

<p>Definition at line <a class="el" href="a00043.html#l00265">265</a> of file <a class="el" href="a00043.html">sdb.class.php</a>.</p>

<p>References <a class="el" href="a00045.html#l00100">TarzanCore::$key</a>, and <a class="el" href="a00045.html#l00301">TarzanCore::authenticate()</a>.</p>

<p>Referenced by <a class="el" href="a00043.html#l00380">query()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00266"></a>00266         {
<a name="l00267"></a>00267                 $opt = array();
<a name="l00268"></a>00268                 $opt[<span class="stringliteral">'DomainName'</span>] = $domain_name;
<a name="l00269"></a>00269                 $opt[<span class="stringliteral">'ItemName'</span>] = $item_name;
<a name="l00270"></a>00270                 $opt[<span class="stringliteral">'returnCurlHandle'</span>] = $returnCurlHandle;
<a name="l00271"></a>00271 
<a name="l00272"></a>00272                 <span class="keywordflow">if</span> ($keys)
<a name="l00273"></a>00273                 {
<a name="l00274"></a>00274                         <span class="keywordflow">if</span> (is_array($keys))
<a name="l00275"></a>00275                         {
<a name="l00276"></a>00276                                 $count = 0;
<a name="l00277"></a>00277                                 <span class="keywordflow">foreach</span> ($keys as <a class="code" href="a00006_84e78a190ed4df00d33fb04050b0b5f3.html#84e78a190ed4df00d33fb04050b0b5f3">$key</a>)
<a name="l00278"></a>00278                                 {
<a name="l00279"></a>00279                                         $opt[<span class="stringliteral">'AttributeName.'</span> . (string) $count] = $key;
<a name="l00280"></a>00280                                         $count++;
<a name="l00281"></a>00281                                 }
<a name="l00282"></a>00282                         }
<a name="l00283"></a>00283                         <span class="keywordflow">else</span>
<a name="l00284"></a>00284                         {
<a name="l00285"></a>00285                                 $opt[<span class="stringliteral">'AttributeName'</span>] = $keys;
<a name="l00286"></a>00286                         }
<a name="l00287"></a>00287                 }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'GetAttributes'</span>, $opt, <a class="code" href="a00020_8190cd4624261979beb11b7c5d1b209a.html#8190cd4624261979beb11b7c5d1b209a">SDB_DEFAULT_URL</a>);
<a name="l00290"></a>00290         }
</pre></div>
<p>

</div>
</div><p>
    </td>
  </tr>
</table>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Aug 20 23:43:07 2008 for Tarzan Pre-2.0 Trunk Build by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
