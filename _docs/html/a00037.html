<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Tarzan Pre-2.0 Trunk Build: ec2.class.php Source File</title>
<link href="tarzan.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<h1>ec2.class.php</h1><a href="a00016.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php<span class="comment"></span>
<a name="l00002"></a>00002 <span class="comment">/**</span>
<a name="l00003"></a>00003 <span class="comment"> * AMAZON ELASTIC CLOUD COMPUTING (EC2)</span>
<a name="l00004"></a>00004 <span class="comment"> * http://ec2.amazonaws.com</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * @category Tarzan</span>
<a name="l00007"></a>00007 <span class="comment"> * @package EC2</span>
<a name="l00008"></a>00008 <span class="comment"> * @version 2008.04.13</span>
<a name="l00009"></a>00009 <span class="comment"> * @copyright 2006-2008 Ryan Parman, LifeNexus Digital, Inc., and contributors.</span>
<a name="l00010"></a>00010 <span class="comment"> * @license http://opensource.org/licenses/bsd-license.php Simplified BSD License</span>
<a name="l00011"></a>00011 <span class="comment"> * @link http://tarzan-aws.com Tarzan</span>
<a name="l00012"></a>00012 <span class="comment"> * @link http://ec2.amazonaws.com Amazon EC2</span>
<a name="l00013"></a>00013 <span class="comment"> * @see README</span>
<a name="l00014"></a>00014 <span class="comment"> */</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00018"></a>00018 <span class="comment">// CONSTANTS</span>
<a name="l00019"></a>00019 <span class="comment"></span>
<a name="l00020"></a>00020 <span class="comment">/**</span>
<a name="l00021"></a>00021 <span class="comment"> * Specify the default queue URL.</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a><a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">00023</a> define(<span class="stringliteral">'EC2_DEFAULT_URL'</span>, <span class="stringliteral">'http://ec2.amazonaws.com/'</span>);
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00027"></a>00027 <span class="comment">// MAIN CLASS</span>
<a name="l00028"></a>00028 <span class="comment"></span>
<a name="l00029"></a>00029 <span class="comment">/**</span>
<a name="l00030"></a>00030 <span class="comment"> * Container for all Amazon EC2-related methods.</span>
<a name="l00031"></a>00031 <span class="comment"> */</span>
<a name="l00032"></a><a class="code" href="a00002.html">00032</a> <span class="keyword">class </span><a class="code" href="a00002.html">AmazonEC2</a> <span class="keyword">extends</span> <a class="code" href="a00006.html">TarzanCore</a>
<a name="l00033"></a>00033 {
<a name="l00034"></a>00034         <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00035"></a>00035         <span class="comment">// CONSTRUCTOR</span>
<a name="l00036"></a>00036 <span class="comment"></span>
<a name="l00037"></a>00037 <span class="comment">        /**</span>
<a name="l00038"></a>00038 <span class="comment">         * Constructor</span>
<a name="l00039"></a>00039 <span class="comment">         */</span>
<a name="l00040"></a><a class="code" href="a00002_d7fc735144b39112fe0bc30ef62c8581.html#d7fc735144b39112fe0bc30ef62c8581">00040</a>         <span class="keyword">public</span> function <a class="code" href="a00002_d7fc735144b39112fe0bc30ef62c8581.html#d7fc735144b39112fe0bc30ef62c8581">__construct</a>(<a class="code" href="a00006_84e78a190ed4df00d33fb04050b0b5f3.html#84e78a190ed4df00d33fb04050b0b5f3">$key</a> = null, <a class="code" href="a00006_cdb3e15c2f29239ddc784e3b28e7050c.html#cdb3e15c2f29239ddc784e3b28e7050c">$secret_key</a> = null, <a class="code" href="a00006_4cef61f6f9842dbb0f5b8b11d1b54de5.html#4cef61f6f9842dbb0f5b8b11d1b54de5">$account_id</a> = null, <a class="code" href="a00006_be1c319e769a5b79be53724b9b3b615b.html#be1c319e769a5b79be53724b9b3b615b">$assoc_id</a> = null)
<a name="l00041"></a>00041         {
<a name="l00042"></a>00042                 $this-&gt;api_version = <span class="stringliteral">'2008-02-01'</span>;
<a name="l00043"></a>00043                 parent::__construct(<a class="code" href="a00006_84e78a190ed4df00d33fb04050b0b5f3.html#84e78a190ed4df00d33fb04050b0b5f3">$key</a>, <a class="code" href="a00006_cdb3e15c2f29239ddc784e3b28e7050c.html#cdb3e15c2f29239ddc784e3b28e7050c">$secret_key</a>, <a class="code" href="a00006_4cef61f6f9842dbb0f5b8b11d1b54de5.html#4cef61f6f9842dbb0f5b8b11d1b54de5">$account_id</a>, <a class="code" href="a00006_be1c319e769a5b79be53724b9b3b615b.html#be1c319e769a5b79be53724b9b3b615b">$assoc_id</a>);
<a name="l00044"></a>00044         }
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 
<a name="l00047"></a>00047         <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00048"></a>00048         <span class="comment">// AVAILABILITY ZONES</span>
<a name="l00049"></a>00049 <span class="comment"></span>
<a name="l00050"></a>00050 <span class="comment">        /**</span>
<a name="l00051"></a>00051 <span class="comment">         * Describe Availability Zones</span>
<a name="l00052"></a>00052 <span class="comment">         *</span>
<a name="l00053"></a>00053 <span class="comment">         * Describes availability zones that are currently available to the account and their states. </span>
<a name="l00054"></a>00054 <span class="comment">         *</span>
<a name="l00055"></a>00055 <span class="comment">         * @access public</span>
<a name="l00056"></a>00056 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00057"></a>00057 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00058"></a>00058 <span class="comment">         *   &lt;li&gt;string ZoneName.n - (Optional) Name of an availability zone.&lt;/li&gt;</span>
<a name="l00059"></a>00059 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00060"></a>00060 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00061"></a>00061 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2008-02-01/DeveloperGuide/ApiReference-Query-DescribeAvailabilityZones.html</span>
<a name="l00062"></a>00062 <span class="comment">         */</span>
<a name="l00063"></a><a class="code" href="a00002_d2ad77c2575a2c3a119294da962ae0a4.html#d2ad77c2575a2c3a119294da962ae0a4">00063</a>         <span class="keyword">public</span> function <a class="code" href="a00002_d2ad77c2575a2c3a119294da962ae0a4.html#d2ad77c2575a2c3a119294da962ae0a4">describe_availability_zones</a>($opt = null)
<a name="l00064"></a>00064         {
<a name="l00065"></a>00065                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DescribeAvailabilityZones'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00066"></a>00066         }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 
<a name="l00069"></a>00069         <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00070"></a>00070         <span class="comment">// ELASTIC IP ADDRESSES</span>
<a name="l00071"></a>00071 
<a name="l00072"></a>00072         <span class="comment">// Not yet implemented. New as of 2008-02-01.</span>
<a name="l00073"></a><a class="code" href="a00002_f5ff2502fe604c5fabb7f2ab4f8357f7.html#f5ff2502fe604c5fabb7f2ab4f8357f7">00073</a>         <span class="keyword">public</span> function <a class="code" href="a00002_f5ff2502fe604c5fabb7f2ab4f8357f7.html#f5ff2502fe604c5fabb7f2ab4f8357f7">allocate_address</a>() {}
<a name="l00074"></a>00074 
<a name="l00075"></a>00075         <span class="comment">// Not yet implemented. New as of 2008-02-01.</span>
<a name="l00076"></a><a class="code" href="a00002_c73cff0718e0adcb939dfe97bb40c261.html#c73cff0718e0adcb939dfe97bb40c261">00076</a>         <span class="keyword">public</span> function <a class="code" href="a00002_c73cff0718e0adcb939dfe97bb40c261.html#c73cff0718e0adcb939dfe97bb40c261">associate_address</a>() {}
<a name="l00077"></a>00077 
<a name="l00078"></a>00078         <span class="comment">// Not yet implemented. New as of 2008-02-01.</span>
<a name="l00079"></a><a class="code" href="a00002_0aae0e3ab3a71117189c7618155988ee.html#0aae0e3ab3a71117189c7618155988ee">00079</a>         <span class="keyword">public</span> function <a class="code" href="a00002_0aae0e3ab3a71117189c7618155988ee.html#0aae0e3ab3a71117189c7618155988ee">describe_addresses</a>() {}
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         <span class="comment">// Not yet implemented. New as of 2008-02-01.</span>
<a name="l00082"></a><a class="code" href="a00002_b6d13e6fd02967b1c68c6869c9e1ff18.html#b6d13e6fd02967b1c68c6869c9e1ff18">00082</a>         <span class="keyword">public</span> function <a class="code" href="a00002_b6d13e6fd02967b1c68c6869c9e1ff18.html#b6d13e6fd02967b1c68c6869c9e1ff18">disassociate_address</a>() {}
<a name="l00083"></a>00083 
<a name="l00084"></a>00084         <span class="comment">// Not yet implemented. New as of 2008-02-01.</span>
<a name="l00085"></a><a class="code" href="a00002_c060bde66713673989fb3281a6940ce6.html#c060bde66713673989fb3281a6940ce6">00085</a>         <span class="keyword">public</span> function <a class="code" href="a00002_c060bde66713673989fb3281a6940ce6.html#c060bde66713673989fb3281a6940ce6">release_address</a>() {}
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00088"></a>00088         <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00089"></a>00089         <span class="comment">// IMAGES</span>
<a name="l00090"></a>00090 <span class="comment"></span>
<a name="l00091"></a>00091 <span class="comment">        /**</span>
<a name="l00092"></a>00092 <span class="comment">         * De-register Image</span>
<a name="l00093"></a>00093 <span class="comment">         *</span>
<a name="l00094"></a>00094 <span class="comment">         * De-registers an AMI. Once de-registered, instances of the AMI may no longer be launched.</span>
<a name="l00095"></a>00095 <span class="comment">         *</span>
<a name="l00096"></a>00096 <span class="comment">         * @access public</span>
<a name="l00097"></a>00097 <span class="comment">         * @param string $image_id (Required) Unique ID of a machine image, returned by a call to register_image() or describe_images().</span>
<a name="l00098"></a>00098 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00099"></a>00099 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-DeregisterImage.html</span>
<a name="l00100"></a>00100 <span class="comment">         */</span>
<a name="l00101"></a><a class="code" href="a00002_2cc74f568df48dadb3c9cb3022693b61.html#2cc74f568df48dadb3c9cb3022693b61">00101</a>         <span class="keyword">public</span> function <a class="code" href="a00002_2cc74f568df48dadb3c9cb3022693b61.html#2cc74f568df48dadb3c9cb3022693b61">deregister_image</a>($image_id)
<a name="l00102"></a>00102         {
<a name="l00103"></a>00103                 <span class="keywordflow">if</span> ($image_id)
<a name="l00104"></a>00104                 {
<a name="l00105"></a>00105                         $opt[<span class="stringliteral">'ImageId'</span>] = $image_id;
<a name="l00106"></a>00106                 }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DeregisterImage'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00109"></a>00109         }
<a name="l00110"></a>00110 <span class="comment"></span>
<a name="l00111"></a>00111 <span class="comment">        /**</span>
<a name="l00112"></a>00112 <span class="comment">         * Describe Image</span>
<a name="l00113"></a>00113 <span class="comment">         *</span>
<a name="l00114"></a>00114 <span class="comment">         * Returns information about AMIs available for use by the user. This includes both public AMIs (those </span>
<a name="l00115"></a>00115 <span class="comment">         * available for any user to launch) and private AMIs (those owned by the user making the request and </span>
<a name="l00116"></a>00116 <span class="comment">         * those owned by other users that the user making the request has explicit launch permissions for).</span>
<a name="l00117"></a>00117 <span class="comment">         *</span>
<a name="l00118"></a>00118 <span class="comment">         * @access public</span>
<a name="l00119"></a>00119 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00120"></a>00120 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00121"></a>00121 <span class="comment">         *   &lt;li&gt;string ExecutableBy.n - (Optional) Describe AMIs that the specified users have launch permissions for. Accepts Amazon account ID, 'self', or 'all' for public AMIs.&lt;/li&gt;</span>
<a name="l00122"></a>00122 <span class="comment">         *   &lt;li&gt;string ImageId.n - (Optional) A list of image descriptions.&lt;/li&gt;</span>
<a name="l00123"></a>00123 <span class="comment">         *   &lt;li&gt;string Owner.n - (Optional) Owners of AMIs to describe.&lt;/li&gt;</span>
<a name="l00124"></a>00124 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00125"></a>00125 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00126"></a>00126 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-DescribeImages.html</span>
<a name="l00127"></a>00127 <span class="comment">         */</span>
<a name="l00128"></a><a class="code" href="a00002_3d5c7c9055fb05b56f81bc7e565a8c55.html#3d5c7c9055fb05b56f81bc7e565a8c55">00128</a>         <span class="keyword">public</span> function <a class="code" href="a00002_3d5c7c9055fb05b56f81bc7e565a8c55.html#3d5c7c9055fb05b56f81bc7e565a8c55">describe_images</a>($opt = null)
<a name="l00129"></a>00129         {
<a name="l00130"></a>00130                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DescribeImages'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00131"></a>00131         }
<a name="l00132"></a>00132 <span class="comment"></span>
<a name="l00133"></a>00133 <span class="comment">        /**</span>
<a name="l00134"></a>00134 <span class="comment">         * Register Image</span>
<a name="l00135"></a>00135 <span class="comment">         *</span>
<a name="l00136"></a>00136 <span class="comment">         * Registers an AMI with Amazon EC2. Images must be registered before they can be launched via run_instances().</span>
<a name="l00137"></a>00137 <span class="comment">         *</span>
<a name="l00138"></a>00138 <span class="comment">         * @access public</span>
<a name="l00139"></a>00139 <span class="comment">         * @param string $image_location (Required) Full path to your AMI manifest in Amazon S3 storage (i.e. mybucket/myimage.manifest.xml).</span>
<a name="l00140"></a>00140 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00141"></a>00141 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-RegisterImage.html</span>
<a name="l00142"></a>00142 <span class="comment">         */</span>
<a name="l00143"></a><a class="code" href="a00002_2801cb51d11bbaee62159b0708839892.html#2801cb51d11bbaee62159b0708839892">00143</a>         <span class="keyword">public</span> function <a class="code" href="a00002_2801cb51d11bbaee62159b0708839892.html#2801cb51d11bbaee62159b0708839892">register_image</a>($image_location)
<a name="l00144"></a>00144         {
<a name="l00145"></a>00145                 <span class="keywordflow">if</span> ($image_location)
<a name="l00146"></a>00146                 {
<a name="l00147"></a>00147                         $opt[<span class="stringliteral">'ImageLocation'</span>] = $image_location;
<a name="l00148"></a>00148                 }
<a name="l00149"></a>00149 
<a name="l00150"></a>00150                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'RegisterImage'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00151"></a>00151         }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 
<a name="l00154"></a>00154         <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00155"></a>00155         <span class="comment">// IMAGE ATTRIBUTES</span>
<a name="l00156"></a>00156 <span class="comment"></span>
<a name="l00157"></a>00157 <span class="comment">        /**</span>
<a name="l00158"></a>00158 <span class="comment">         * Describe Image Attribute</span>
<a name="l00159"></a>00159 <span class="comment">         *</span>
<a name="l00160"></a>00160 <span class="comment">         * Returns information about an attribute of an AMI. Only one attribute may be specified per call.</span>
<a name="l00161"></a>00161 <span class="comment">         *</span>
<a name="l00162"></a>00162 <span class="comment">         * @access public</span>
<a name="l00163"></a>00163 <span class="comment">         * @param string $image_id (Required) Unique ID of a machine image, returned by a call to register_image() or describe_images().</span>
<a name="l00164"></a>00164 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00165"></a>00165 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-DescribeImageAttribute.html</span>
<a name="l00166"></a>00166 <span class="comment">         */</span>
<a name="l00167"></a><a class="code" href="a00002_797398c207e7665d44ce2154f1a99428.html#797398c207e7665d44ce2154f1a99428">00167</a>         <span class="keyword">public</span> function <a class="code" href="a00002_797398c207e7665d44ce2154f1a99428.html#797398c207e7665d44ce2154f1a99428">describe_image_attribute</a>($image_id)
<a name="l00168"></a>00168         {
<a name="l00169"></a>00169                 <span class="keywordflow">if</span> ($image_id)
<a name="l00170"></a>00170                 {
<a name="l00171"></a>00171                         $opt[<span class="stringliteral">'ImageId'</span>] = $image_id;
<a name="l00172"></a>00172                 }
<a name="l00173"></a>00173 
<a name="l00174"></a>00174                 <span class="comment">// This is the only supported value in the EC2 2007-03-01 release.</span>
<a name="l00175"></a>00175                 $opt[<span class="stringliteral">'Attribute'</span>] = <span class="stringliteral">'launchPermission'</span>;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DescribeImageAttribute'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00178"></a>00178         }
<a name="l00179"></a>00179 <span class="comment"></span>
<a name="l00180"></a>00180 <span class="comment">        /**</span>
<a name="l00181"></a>00181 <span class="comment">         * Modify Image Attribute</span>
<a name="l00182"></a>00182 <span class="comment">         *</span>
<a name="l00183"></a>00183 <span class="comment">         * Modifies an attribute of an AMI.</span>
<a name="l00184"></a>00184 <span class="comment">         *</span>
<a name="l00185"></a>00185 <span class="comment">         * @access public</span>
<a name="l00186"></a>00186 <span class="comment">         * @param string $image_id (Required) AMI ID to modify an attribute on.</span>
<a name="l00187"></a>00187 <span class="comment">         * @param string $attribute (Required) Specifies the attribute to modify. Supports 'launchPermission' and 'productCodes'.</span>
<a name="l00188"></a>00188 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00189"></a>00189 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00190"></a>00190 <span class="comment">         *   &lt;li&gt;string OperationType - (Required for 'launchPermission' Attribute) Specifies the operation to perform on the attribute. Supports 'add' and 'remove'.&lt;/li&gt;</span>
<a name="l00191"></a>00191 <span class="comment">         *   &lt;li&gt;string UserId.n - (Required for 'launchPermission' Attribute) User IDs to add to or remove from the 'launchPermission' attribute.&lt;/li&gt;</span>
<a name="l00192"></a>00192 <span class="comment">         *   &lt;li&gt;string UserGroup.n - (Required for 'launchPermission' Attribute) User groups to add to or remove from the 'launchPermission' attribute. Currently, only the 'all' group is available, specifiying all Amazon EC2 users.&lt;/li&gt;</span>
<a name="l00193"></a>00193 <span class="comment">         *   &lt;li&gt;string ProductCode.n - (Required for 'productCodes' Attribute) Attaches product codes to the AMI. Currently only one product code may be associated with an AMI. Once set, the product code can not be changed or reset.&lt;/li&gt;</span>
<a name="l00194"></a>00194 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00195"></a>00195 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00196"></a>00196 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-ModifyImageAttribute.html</span>
<a name="l00197"></a>00197 <span class="comment">         */</span>
<a name="l00198"></a><a class="code" href="a00002_56cb3bfac6465eff3d8d3d6b94ce6715.html#56cb3bfac6465eff3d8d3d6b94ce6715">00198</a>         <span class="keyword">public</span> function <a class="code" href="a00002_56cb3bfac6465eff3d8d3d6b94ce6715.html#56cb3bfac6465eff3d8d3d6b94ce6715">modify_image_attribute</a>($image_id, $attribute, $opt = null)
<a name="l00199"></a>00199         {
<a name="l00200"></a>00200                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'ModifyImageAttribute'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00201"></a>00201         }
<a name="l00202"></a>00202 <span class="comment"></span>
<a name="l00203"></a>00203 <span class="comment">        /**</span>
<a name="l00204"></a>00204 <span class="comment">         * Reset Image Attribute</span>
<a name="l00205"></a>00205 <span class="comment">         *</span>
<a name="l00206"></a>00206 <span class="comment">         * Resets an attribute of an AMI to its default value.</span>
<a name="l00207"></a>00207 <span class="comment">         *</span>
<a name="l00208"></a>00208 <span class="comment">         * @access public</span>
<a name="l00209"></a>00209 <span class="comment">         * @param string $image_id (Required) Unique ID of a machine image, returned by a call to register_image() or describe_images().</span>
<a name="l00210"></a>00210 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00211"></a>00211 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-ResetImageAttribute.html</span>
<a name="l00212"></a>00212 <span class="comment">         */</span>
<a name="l00213"></a><a class="code" href="a00002_cf9134f3e17577baab22207a091b0b67.html#cf9134f3e17577baab22207a091b0b67">00213</a>         <span class="keyword">public</span> function <a class="code" href="a00002_cf9134f3e17577baab22207a091b0b67.html#cf9134f3e17577baab22207a091b0b67">reset_image_attribute</a>($image_id)
<a name="l00214"></a>00214         {
<a name="l00215"></a>00215                 <span class="keywordflow">if</span> ($image_id)
<a name="l00216"></a>00216                 {
<a name="l00217"></a>00217                         $opt[<span class="stringliteral">'ImageId'</span>] = $image_id;
<a name="l00218"></a>00218                 }
<a name="l00219"></a>00219 
<a name="l00220"></a>00220                 <span class="comment">// This is the only supported value in the EC2 2007-03-01 release.</span>
<a name="l00221"></a>00221                 $opt[<span class="stringliteral">'Attribute'</span>] = <span class="stringliteral">'launchPermission'</span>;
<a name="l00222"></a>00222 
<a name="l00223"></a>00223                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'ResetImageAttribute'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00224"></a>00224         }
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 
<a name="l00227"></a>00227         <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00228"></a>00228         <span class="comment">// INSTANCES</span>
<a name="l00229"></a>00229 <span class="comment"></span>
<a name="l00230"></a>00230 <span class="comment">        /**</span>
<a name="l00231"></a>00231 <span class="comment">         * Confirm Product Instance</span>
<a name="l00232"></a>00232 <span class="comment">         *</span>
<a name="l00233"></a>00233 <span class="comment">         * Returns true if the given product code is attached to the instance with the given instance id. </span>
<a name="l00234"></a>00234 <span class="comment">         * The operation returns false if the product code is not attached to the instance.</span>
<a name="l00235"></a>00235 <span class="comment">         *</span>
<a name="l00236"></a>00236 <span class="comment">         * @access public</span>
<a name="l00237"></a>00237 <span class="comment">         * @param string $product_code (Required) The product code to confirm is attached to the instance.</span>
<a name="l00238"></a>00238 <span class="comment">         * @param string $instance_id (Required) The instance to confirm.</span>
<a name="l00239"></a>00239 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00240"></a>00240 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-ConfirmProductInstance.html</span>
<a name="l00241"></a>00241 <span class="comment">         */</span>
<a name="l00242"></a><a class="code" href="a00002_1e4c825995d9a3203bb559d5e385aab6.html#1e4c825995d9a3203bb559d5e385aab6">00242</a>         <span class="keyword">public</span> function <a class="code" href="a00002_1e4c825995d9a3203bb559d5e385aab6.html#1e4c825995d9a3203bb559d5e385aab6">confirm_product_instance</a>($product_code, $instance_id)
<a name="l00243"></a>00243         {
<a name="l00244"></a>00244                 <span class="keywordflow">if</span> ($product_code)
<a name="l00245"></a>00245                 {
<a name="l00246"></a>00246                         $opt[<span class="stringliteral">'ProductCode'</span>] = $product_code;
<a name="l00247"></a>00247                 }
<a name="l00248"></a>00248 
<a name="l00249"></a>00249                 <span class="keywordflow">if</span> ($instance_id)
<a name="l00250"></a>00250                 {
<a name="l00251"></a>00251                         $opt[<span class="stringliteral">'InstanceId'</span>] = $instance_id;
<a name="l00252"></a>00252                 }
<a name="l00253"></a>00253 
<a name="l00254"></a>00254                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'ConfirmProductInstance'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00255"></a>00255         }
<a name="l00256"></a>00256 <span class="comment"></span>
<a name="l00257"></a>00257 <span class="comment">        /**</span>
<a name="l00258"></a>00258 <span class="comment">         * Describe Instances</span>
<a name="l00259"></a>00259 <span class="comment">         *</span>
<a name="l00260"></a>00260 <span class="comment">         * Returns information about instances owned by the user making the request.</span>
<a name="l00261"></a>00261 <span class="comment">         *</span>
<a name="l00262"></a>00262 <span class="comment">         * @access public</span>
<a name="l00263"></a>00263 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00264"></a>00264 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00265"></a>00265 <span class="comment">         *   &lt;li&gt;string InstanceId.n - (Optional) Set of instances IDs to get the status of.&lt;/li&gt;</span>
<a name="l00266"></a>00266 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00267"></a>00267 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00268"></a>00268 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-DescribeInstances.html</span>
<a name="l00269"></a>00269 <span class="comment">         */</span>
<a name="l00270"></a><a class="code" href="a00002_ce18d7e19deaa0fa7c0d0d26bd08b9b0.html#ce18d7e19deaa0fa7c0d0d26bd08b9b0">00270</a>         <span class="keyword">public</span> function <a class="code" href="a00002_ce18d7e19deaa0fa7c0d0d26bd08b9b0.html#ce18d7e19deaa0fa7c0d0d26bd08b9b0">describe_instances</a>($opt = null)
<a name="l00271"></a>00271         {
<a name="l00272"></a>00272                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DescribeInstances'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00273"></a>00273         }
<a name="l00274"></a>00274 <span class="comment"></span>
<a name="l00275"></a>00275 <span class="comment">        /**</span>
<a name="l00276"></a>00276 <span class="comment">         * Run Instances</span>
<a name="l00277"></a>00277 <span class="comment">         *</span>
<a name="l00278"></a>00278 <span class="comment">         * Launches a specified number of instances. A call to RunInstances is guaranteed to start no </span>
<a name="l00279"></a>00279 <span class="comment">         * fewer than the requested minimum. If there is insufficient capacity available then no </span>
<a name="l00280"></a>00280 <span class="comment">         * instances will be started. Amazon EC2 will make a best effort attempt to satisfy the </span>
<a name="l00281"></a>00281 <span class="comment">         * requested maximum values.</span>
<a name="l00282"></a>00282 <span class="comment">         *</span>
<a name="l00283"></a>00283 <span class="comment">         * @access public</span>
<a name="l00284"></a>00284 <span class="comment">         * @param string ImageId (Required) ID of the AMI to launch instances based on.</span>
<a name="l00285"></a>00285 <span class="comment">         * @param integer MinCount (Required) Minimum number of instances to launch.</span>
<a name="l00286"></a>00286 <span class="comment">         * @param integer MaxCount (Required) Maximum number of instances to launch.</span>
<a name="l00287"></a>00287 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00288"></a>00288 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00289"></a>00289 <span class="comment">         *   &lt;li&gt;string KeyName - (Optional) Name of the keypair to launch instances with.&lt;/li&gt;</span>
<a name="l00290"></a>00290 <span class="comment">         *   &lt;li&gt;string SecurityGroup.n - (Optional) Names of the security groups to associate the instances with.&lt;/li&gt;</span>
<a name="l00291"></a>00291 <span class="comment">         *   &lt;li&gt;string UserData - (Optional) The user data available to the launched instances. This should be base64-encoded. See the UserDataType data type for encoding details.&lt;/li&gt;</span>
<a name="l00292"></a>00292 <span class="comment">         *   &lt;li&gt;string AddressingType - (Optional) The addressing scheme to launch the instance with. The addressing type can be direct or public. In the direct scheme the instance has one IP address that is not NAT'd. For the public scheme the instance has a NAT'd IP address. See the section called "Instance Addressing" for more information on instance addressing.&lt;/li&gt;</span>
<a name="l00293"></a>00293 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00294"></a>00294 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00295"></a>00295 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-RunInstances.html</span>
<a name="l00296"></a>00296 <span class="comment">         */</span>
<a name="l00297"></a><a class="code" href="a00002_790f91e177d7cb99e21f7b61d3deb305.html#790f91e177d7cb99e21f7b61d3deb305">00297</a>         <span class="keyword">public</span> function <a class="code" href="a00002_790f91e177d7cb99e21f7b61d3deb305.html#790f91e177d7cb99e21f7b61d3deb305">run_instances</a>($image_id, $min_count, $max_count, $opt = null)
<a name="l00298"></a>00298         {
<a name="l00299"></a>00299                 <span class="keywordflow">if</span> ($image_id)
<a name="l00300"></a>00300                 {
<a name="l00301"></a>00301                         $opt[<span class="stringliteral">'ImageId'</span>] = $image_id;
<a name="l00302"></a>00302                 }
<a name="l00303"></a>00303 
<a name="l00304"></a>00304                 <span class="keywordflow">if</span> ($min_count)
<a name="l00305"></a>00305                 {
<a name="l00306"></a>00306                         $opt[<span class="stringliteral">'MinCount'</span>] = $min_count;
<a name="l00307"></a>00307                 }
<a name="l00308"></a>00308 
<a name="l00309"></a>00309                 <span class="keywordflow">if</span> ($max_count)
<a name="l00310"></a>00310                 {
<a name="l00311"></a>00311                         $opt[<span class="stringliteral">'MaxCount'</span>] = $max_count;
<a name="l00312"></a>00312                 }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'RunInstances'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00315"></a>00315         }
<a name="l00316"></a>00316 <span class="comment"></span>
<a name="l00317"></a>00317 <span class="comment">        /**</span>
<a name="l00318"></a>00318 <span class="comment">         * Terminate Instances</span>
<a name="l00319"></a>00319 <span class="comment">         *</span>
<a name="l00320"></a>00320 <span class="comment">         * Shuts down one or more instances. This operation is idempotent and terminating an instance that is </span>
<a name="l00321"></a>00321 <span class="comment">         * in the process of shutting down (or already terminated) will succeed.</span>
<a name="l00322"></a>00322 <span class="comment">         *</span>
<a name="l00323"></a>00323 <span class="comment">         * @access public</span>
<a name="l00324"></a>00324 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00325"></a>00325 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00326"></a>00326 <span class="comment">         *   &lt;li&gt;string InstanceId.1 - (Required) One instance ID returned from previous calls to RunInstances.&lt;/li&gt;</span>
<a name="l00327"></a>00327 <span class="comment">         *   &lt;li&gt;string InstanceId.n - (Optional) More than one instance IDs returned from previous calls to RunInstances.&lt;/li&gt;</span>
<a name="l00328"></a>00328 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00329"></a>00329 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00330"></a>00330 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-TerminateInstances.html</span>
<a name="l00331"></a>00331 <span class="comment">         */</span>
<a name="l00332"></a><a class="code" href="a00002_b38df8ae799ed5f48a52bb403b9b993c.html#b38df8ae799ed5f48a52bb403b9b993c">00332</a>         <span class="keyword">public</span> function <a class="code" href="a00002_b38df8ae799ed5f48a52bb403b9b993c.html#b38df8ae799ed5f48a52bb403b9b993c">terminate_instances</a>($opt = null)
<a name="l00333"></a>00333         {
<a name="l00334"></a>00334                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'TerminateInstances'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00335"></a>00335         }
<a name="l00336"></a>00336 
<a name="l00337"></a>00337 
<a name="l00338"></a>00338         <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00339"></a>00339         <span class="comment">// KEYPAIRS</span>
<a name="l00340"></a>00340 <span class="comment"></span>
<a name="l00341"></a>00341 <span class="comment">        /**</span>
<a name="l00342"></a>00342 <span class="comment">         * Create Key Pair</span>
<a name="l00343"></a>00343 <span class="comment">         *</span>
<a name="l00344"></a>00344 <span class="comment">         * Creates a new 2048 bit RSA keypair and returns a unique ID that can be used to reference this </span>
<a name="l00345"></a>00345 <span class="comment">         * keypair when launching new instances.</span>
<a name="l00346"></a>00346 <span class="comment">         *</span>
<a name="l00347"></a>00347 <span class="comment">         * @access public</span>
<a name="l00348"></a>00348 <span class="comment">         * @param string $key_name (Required) Unique name for this key.</span>
<a name="l00349"></a>00349 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00350"></a>00350 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-CreateKeyPair.html</span>
<a name="l00351"></a>00351 <span class="comment">         */</span>
<a name="l00352"></a><a class="code" href="a00002_49ba4e19d2ebd655c2c06b8befe9a090.html#49ba4e19d2ebd655c2c06b8befe9a090">00352</a>         <span class="keyword">public</span> function <a class="code" href="a00002_49ba4e19d2ebd655c2c06b8befe9a090.html#49ba4e19d2ebd655c2c06b8befe9a090">create_key_pair</a>($key_name)
<a name="l00353"></a>00353         {
<a name="l00354"></a>00354                 <span class="keywordflow">if</span> ($key_name)
<a name="l00355"></a>00355                 {
<a name="l00356"></a>00356                         $opt[<span class="stringliteral">'KeyName'</span>] = $key_name;
<a name="l00357"></a>00357                 }
<a name="l00358"></a>00358 
<a name="l00359"></a>00359                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'CreateKeyPair'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00360"></a>00360         }
<a name="l00361"></a>00361 <span class="comment"></span>
<a name="l00362"></a>00362 <span class="comment">        /**</span>
<a name="l00363"></a>00363 <span class="comment">         * Delete Key Pair</span>
<a name="l00364"></a>00364 <span class="comment">         *</span>
<a name="l00365"></a>00365 <span class="comment">         * Deletes a keypair.</span>
<a name="l00366"></a>00366 <span class="comment">         *</span>
<a name="l00367"></a>00367 <span class="comment">         * @access public</span>
<a name="l00368"></a>00368 <span class="comment">         * @param string $key_name (Required) Unique name for this key.</span>
<a name="l00369"></a>00369 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00370"></a>00370 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-DeleteKeyPair.html</span>
<a name="l00371"></a>00371 <span class="comment">         */</span>
<a name="l00372"></a><a class="code" href="a00002_8c2772839b4f810899f2b0cdb2e71538.html#8c2772839b4f810899f2b0cdb2e71538">00372</a>         <span class="keyword">public</span> function <a class="code" href="a00002_8c2772839b4f810899f2b0cdb2e71538.html#8c2772839b4f810899f2b0cdb2e71538">delete_key_pair</a>($key_name)
<a name="l00373"></a>00373         {
<a name="l00374"></a>00374                 <span class="keywordflow">if</span> ($key_name)
<a name="l00375"></a>00375                 {
<a name="l00376"></a>00376                         $opt[<span class="stringliteral">'KeyName'</span>] = $key_name;
<a name="l00377"></a>00377                 }
<a name="l00378"></a>00378 
<a name="l00379"></a>00379                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DeleteKeyPair'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00380"></a>00380         }
<a name="l00381"></a>00381 <span class="comment"></span>
<a name="l00382"></a>00382 <span class="comment">        /**</span>
<a name="l00383"></a>00383 <span class="comment">         * Describe Key Pairs</span>
<a name="l00384"></a>00384 <span class="comment">         *</span>
<a name="l00385"></a>00385 <span class="comment">         * Returns information about keypairs available for use by the user making the request. Selected </span>
<a name="l00386"></a>00386 <span class="comment">         * keypairs may be specified or the list may be left empty if information for all registered </span>
<a name="l00387"></a>00387 <span class="comment">         * keypairs is required.</span>
<a name="l00388"></a>00388 <span class="comment">         *</span>
<a name="l00389"></a>00389 <span class="comment">         * @access public</span>
<a name="l00390"></a>00390 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00391"></a>00391 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00392"></a>00392 <span class="comment">         *   &lt;li&gt;string KeyName.n - (Optional) One or more keypair IDs to describe.&lt;/li&gt;</span>
<a name="l00393"></a>00393 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00394"></a>00394 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00395"></a>00395 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-DescribeKeyPairs.html</span>
<a name="l00396"></a>00396 <span class="comment">         */</span>
<a name="l00397"></a><a class="code" href="a00002_c4667e5423ffe903656ed428447f0afd.html#c4667e5423ffe903656ed428447f0afd">00397</a>         <span class="keyword">public</span> function <a class="code" href="a00002_c4667e5423ffe903656ed428447f0afd.html#c4667e5423ffe903656ed428447f0afd">describe_key_pairs</a>($opt = null)
<a name="l00398"></a>00398         {
<a name="l00399"></a>00399                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DescribeKeyPairs'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00400"></a>00400         }
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 
<a name="l00403"></a>00403         <span class="comment">/*%******************************************************************************************%*/</span>
<a name="l00404"></a>00404         <span class="comment">// SECURITY GROUPS</span>
<a name="l00405"></a>00405 <span class="comment"></span>
<a name="l00406"></a>00406 <span class="comment">        /**</span>
<a name="l00407"></a>00407 <span class="comment">         * Authorize Security Groups Ingress</span>
<a name="l00408"></a>00408 <span class="comment">         *</span>
<a name="l00409"></a>00409 <span class="comment">         * Adds permissions to a security group.</span>
<a name="l00410"></a>00410 <span class="comment">         * </span>
<a name="l00411"></a>00411 <span class="comment">         * Permissions are specified in terms of the IP protocol (TCP, UDP or ICMP), the source of the </span>
<a name="l00412"></a>00412 <span class="comment">         * request (by IP range or an Amazon EC2 user-group pair), source and destination port ranges </span>
<a name="l00413"></a>00413 <span class="comment">         * (for TCP and UDP), and ICMP codes and types (for ICMP). When authorizing ICMP, -1 may be </span>
<a name="l00414"></a>00414 <span class="comment">         * used as a wildcard in the type and code fields.</span>
<a name="l00415"></a>00415 <span class="comment">         * </span>
<a name="l00416"></a>00416 <span class="comment">         * Permission changes are propagated to instances within the security group being modified as </span>
<a name="l00417"></a>00417 <span class="comment">         * quickly as possible. However, a small delay is likely, depending on the number of instances </span>
<a name="l00418"></a>00418 <span class="comment">         * that are members of the indicated group.</span>
<a name="l00419"></a>00419 <span class="comment">         * </span>
<a name="l00420"></a>00420 <span class="comment">         * When authorizing a user/group pair permission, GroupName, SourceSecurityGroupName and </span>
<a name="l00421"></a>00421 <span class="comment">         * SourceSecurityGroupOwnerId must be specified. When authorizing a CIDR IP permission, </span>
<a name="l00422"></a>00422 <span class="comment">         * GroupName, IpProtocol, FromPort, ToPort and CidrIp must be specified. Mixing these two </span>
<a name="l00423"></a>00423 <span class="comment">         * types of parameters is not allowed.</span>
<a name="l00424"></a>00424 <span class="comment">         *</span>
<a name="l00425"></a>00425 <span class="comment">         * @access public</span>
<a name="l00426"></a>00426 <span class="comment">         * @param string $group_name (Required) Name of the security group to modify.</span>
<a name="l00427"></a>00427 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00428"></a>00428 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00429"></a>00429 <span class="comment">         *   &lt;li&gt;string SourceSecurityGroupName - (Required when authorizing user/group pair permission) Name of security group to authorize access to when operating on a user/group pair.&lt;/li&gt;</span>
<a name="l00430"></a>00430 <span class="comment">         *   &lt;li&gt;string SourceSecurityGroupOwnerId - (Required when authorizing user/group pair permission) Owner of security group to authorize access to when operating on a user/group pair.&lt;/li&gt;</span>
<a name="l00431"></a>00431 <span class="comment">         *   &lt;li&gt;string IpProtocol - (Required when authorizing CIDR IP permission) IP protocol to authorize access to when operating on a CIDR IP. Valid values are 'tcp', 'udp' and 'icmp'.&lt;/li&gt;</span>
<a name="l00432"></a>00432 <span class="comment">         *   &lt;li&gt;integer FromPort - (Required when authorizing CIDR IP permission) Bottom of port range to authorize access to when operating on a CIDR IP. This contains the ICMP type if ICMP is being authorized.&lt;/li&gt;</span>
<a name="l00433"></a>00433 <span class="comment">         *   &lt;li&gt;integer ToPort - (Required when authorizing CIDR IP permission) Top of port range to authorize access to when operating on a CIDR IP. This contains the ICMP code if ICMP is being authorized.&lt;/li&gt;</span>
<a name="l00434"></a>00434 <span class="comment">         *   &lt;li&gt;string CidrIp - (Required when authorizing CIDR IP permission) CIDR IP range to authorize access to when operating on a CIDR IP.&lt;/li&gt;</span>
<a name="l00435"></a>00435 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00436"></a>00436 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00437"></a>00437 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-AuthorizeSecurityGroupIngress.html</span>
<a name="l00438"></a>00438 <span class="comment">         */</span>
<a name="l00439"></a><a class="code" href="a00002_fbfe2e24819953859d798721e7d4cca5.html#fbfe2e24819953859d798721e7d4cca5">00439</a>         <span class="keyword">public</span> function <a class="code" href="a00002_fbfe2e24819953859d798721e7d4cca5.html#fbfe2e24819953859d798721e7d4cca5">authorize_security_group_ingress</a>($group_name, $opt = null)
<a name="l00440"></a>00440         {
<a name="l00441"></a>00441                 <span class="keywordflow">if</span> ($group_name)
<a name="l00442"></a>00442                 {
<a name="l00443"></a>00443                         $opt[<span class="stringliteral">'GroupName'</span>] = $group_name;
<a name="l00444"></a>00444                 }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'AuthorizeSecurityGroupIngress'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00447"></a>00447         }
<a name="l00448"></a>00448 <span class="comment"></span>
<a name="l00449"></a>00449 <span class="comment">        /**</span>
<a name="l00450"></a>00450 <span class="comment">         * Create Security Group</span>
<a name="l00451"></a>00451 <span class="comment">         *</span>
<a name="l00452"></a>00452 <span class="comment">         * Every instance is launched in a security group. If none is specified as part of the launch request </span>
<a name="l00453"></a>00453 <span class="comment">         * then instances are launched in the default security group. Instances within the same security group </span>
<a name="l00454"></a>00454 <span class="comment">         * have unrestricted network access to one another. Instances will reject network access attempts from </span>
<a name="l00455"></a>00455 <span class="comment">         * other instances in a different security group. As the owner of instances you may grant or revoke </span>
<a name="l00456"></a>00456 <span class="comment">         * specific permissions using the AuthorizeSecurityGroupIngress and RevokeSecurityGroupIngress operations.</span>
<a name="l00457"></a>00457 <span class="comment">         *</span>
<a name="l00458"></a>00458 <span class="comment">         * @access public</span>
<a name="l00459"></a>00459 <span class="comment">         * @param string $group_name (Required) Name for the new security group.</span>
<a name="l00460"></a>00460 <span class="comment">         * @param string $group_description (Required) Description of the new security group.</span>
<a name="l00461"></a>00461 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00462"></a>00462 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-CreateSecurityGroup.html</span>
<a name="l00463"></a>00463 <span class="comment">         */</span>
<a name="l00464"></a><a class="code" href="a00002_0955e35d8db2a13fe8a0d212b75555ef.html#0955e35d8db2a13fe8a0d212b75555ef">00464</a>         <span class="keyword">public</span> function <a class="code" href="a00002_0955e35d8db2a13fe8a0d212b75555ef.html#0955e35d8db2a13fe8a0d212b75555ef">create_security_group</a>($group_name, $group_description)
<a name="l00465"></a>00465         {
<a name="l00466"></a>00466                 <span class="keywordflow">if</span> ($group_name)
<a name="l00467"></a>00467                 {
<a name="l00468"></a>00468                         $opt[<span class="stringliteral">'GroupName'</span>] = $group_name;
<a name="l00469"></a>00469                 }
<a name="l00470"></a>00470 
<a name="l00471"></a>00471                 <span class="keywordflow">if</span> ($group_description)
<a name="l00472"></a>00472                 {
<a name="l00473"></a>00473                         $opt[<span class="stringliteral">'GroupDescription'</span>] = $group_description;
<a name="l00474"></a>00474                 }
<a name="l00475"></a>00475 
<a name="l00476"></a>00476                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'CreateSecurityGroup'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00477"></a>00477         }
<a name="l00478"></a>00478 <span class="comment"></span>
<a name="l00479"></a>00479 <span class="comment">        /**</span>
<a name="l00480"></a>00480 <span class="comment">         * Delete Security Group</span>
<a name="l00481"></a>00481 <span class="comment">         *</span>
<a name="l00482"></a>00482 <span class="comment">         * Deletes a security group. If an attempt is made to delete a security group and any instances exist </span>
<a name="l00483"></a>00483 <span class="comment">         * that are members of that group a fault is returned.</span>
<a name="l00484"></a>00484 <span class="comment">         *</span>
<a name="l00485"></a>00485 <span class="comment">         * @access public</span>
<a name="l00486"></a>00486 <span class="comment">         * @param string $group_name (Required) Name for the new security group.</span>
<a name="l00487"></a>00487 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00488"></a>00488 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-DeleteSecurityGroup.html</span>
<a name="l00489"></a>00489 <span class="comment">         */</span>
<a name="l00490"></a><a class="code" href="a00002_4a45805199891166068e2aae364c37d0.html#4a45805199891166068e2aae364c37d0">00490</a>         <span class="keyword">public</span> function <a class="code" href="a00002_4a45805199891166068e2aae364c37d0.html#4a45805199891166068e2aae364c37d0">delete_security_group</a>($group_name)
<a name="l00491"></a>00491         {
<a name="l00492"></a>00492                 <span class="keywordflow">if</span> ($group_name)
<a name="l00493"></a>00493                 {
<a name="l00494"></a>00494                         $opt[<span class="stringliteral">'GroupName'</span>] = $group_name;
<a name="l00495"></a>00495                 }
<a name="l00496"></a>00496 
<a name="l00497"></a>00497                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DeleteSecurityGroup'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00498"></a>00498         }
<a name="l00499"></a>00499 <span class="comment"></span>
<a name="l00500"></a>00500 <span class="comment">        /**</span>
<a name="l00501"></a>00501 <span class="comment">         * Describe Security Groups</span>
<a name="l00502"></a>00502 <span class="comment">         *</span>
<a name="l00503"></a>00503 <span class="comment">         * Returns information about security groups owned by the user making the request. An optional list </span>
<a name="l00504"></a>00504 <span class="comment">         * of security group names may be provided to request information for those security groups only. </span>
<a name="l00505"></a>00505 <span class="comment">         * If no security group names are provided, information of all security groups will be returned. </span>
<a name="l00506"></a>00506 <span class="comment">         * If a group is specified that does not exist a fault is returned.</span>
<a name="l00507"></a>00507 <span class="comment">         *</span>
<a name="l00508"></a>00508 <span class="comment">         * @access public</span>
<a name="l00509"></a>00509 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00510"></a>00510 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00511"></a>00511 <span class="comment">         *   &lt;li&gt;string GroupName.n - (Optional) List of security groups to describe.&lt;/li&gt;</span>
<a name="l00512"></a>00512 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00513"></a>00513 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00514"></a>00514 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-DescribeSecurityGroups.html</span>
<a name="l00515"></a>00515 <span class="comment">         */</span>
<a name="l00516"></a><a class="code" href="a00002_9963da81445997fab1302dc849a49772.html#9963da81445997fab1302dc849a49772">00516</a>         <span class="keyword">public</span> function <a class="code" href="a00002_9963da81445997fab1302dc849a49772.html#9963da81445997fab1302dc849a49772">describe_security_groups</a>($opt = null)
<a name="l00517"></a>00517         {
<a name="l00518"></a>00518                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DescribeSecurityGroups'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00519"></a>00519         }
<a name="l00520"></a>00520 <span class="comment"></span>
<a name="l00521"></a>00521 <span class="comment">        /**</span>
<a name="l00522"></a>00522 <span class="comment">         * Revoke Security Groups Ingress</span>
<a name="l00523"></a>00523 <span class="comment">         *</span>
<a name="l00524"></a>00524 <span class="comment">         * Revokes existing permissions that were previously granted to a security group. The permissions </span>
<a name="l00525"></a>00525 <span class="comment">         * to revoke must be specified using the same values originally used to grant the permission.</span>
<a name="l00526"></a>00526 <span class="comment">         * </span>
<a name="l00527"></a>00527 <span class="comment">         * Permissions are specified in terms of the IP protocol (TCP, UDP or ICMP), the source of the </span>
<a name="l00528"></a>00528 <span class="comment">         * request (by IP range or an Amazon EC2 user-group pair), source and destination port ranges </span>
<a name="l00529"></a>00529 <span class="comment">         * (for TCP and UDP), and ICMP codes and types (for ICMP). When authorizing ICMP, -1 may be </span>
<a name="l00530"></a>00530 <span class="comment">         * used as a wildcard in the type and code fields.</span>
<a name="l00531"></a>00531 <span class="comment">         * </span>
<a name="l00532"></a>00532 <span class="comment">         * Permission changes are propagated to instances within the security group being modified as </span>
<a name="l00533"></a>00533 <span class="comment">         * quickly as possible. However, a small delay is likely, depending on the number of instances </span>
<a name="l00534"></a>00534 <span class="comment">         * that are members of the indicated group.</span>
<a name="l00535"></a>00535 <span class="comment">         * </span>
<a name="l00536"></a>00536 <span class="comment">         * When revoking a user/group pair permission, GroupName, SourceSecurityGroupName and </span>
<a name="l00537"></a>00537 <span class="comment">         * SourceSecurityGroupOwnerId must be specified. When authorizing a CIDR IP permission, </span>
<a name="l00538"></a>00538 <span class="comment">         * GroupName, IpProtocol, FromPort, ToPort and CidrIp must be specified. Mixing these two </span>
<a name="l00539"></a>00539 <span class="comment">         * types of parameters is not allowed.</span>
<a name="l00540"></a>00540 <span class="comment">         *</span>
<a name="l00541"></a>00541 <span class="comment">         * @access public</span>
<a name="l00542"></a>00542 <span class="comment">         * @param string $group_name (Required) Name of the security group to modify.</span>
<a name="l00543"></a>00543 <span class="comment">         * @param array $opt Associative array of parameters which can have the following keys:</span>
<a name="l00544"></a>00544 <span class="comment">         * &lt;ul&gt;</span>
<a name="l00545"></a>00545 <span class="comment">         *   &lt;li&gt;string SourceSecurityGroupName - (Required when revoking user/group pair permission) Name of security group to authorize access to when operating on a user/group pair.&lt;/li&gt;</span>
<a name="l00546"></a>00546 <span class="comment">         *   &lt;li&gt;string SourceSecurityGroupOwnerId - (Required when revoking user/group pair permission) Owner of security group to authorize access to when operating on a user/group pair.&lt;/li&gt;</span>
<a name="l00547"></a>00547 <span class="comment">         *   &lt;li&gt;string IpProtocol - (Required when revoking CIDR IP permission) IP protocol to authorize access to when operating on a CIDR IP. Valid values are 'tcp', 'udp' and 'icmp'.&lt;/li&gt;</span>
<a name="l00548"></a>00548 <span class="comment">         *   &lt;li&gt;int FromPort - (Required when revoking CIDR IP permission) Bottom of port range to authorize access to when operating on a CIDR IP. This contains the ICMP type if ICMP is being authorized.&lt;/li&gt;</span>
<a name="l00549"></a>00549 <span class="comment">         *   &lt;li&gt;int ToPort - (Required when revoking CIDR IP permission) Top of port range to authorize access to when operating on a CIDR IP. This contains the ICMP code if ICMP is being authorized.&lt;/li&gt;</span>
<a name="l00550"></a>00550 <span class="comment">         *   &lt;li&gt;string CidrIp - (Required when revoking CIDR IP permission) CIDR IP range to authorize access to when operating on a CIDR IP.&lt;/li&gt;</span>
<a name="l00551"></a>00551 <span class="comment">         * &lt;/ul&gt;</span>
<a name="l00552"></a>00552 <span class="comment">         * @return TarzanHTTPResponse</span>
<a name="l00553"></a>00553 <span class="comment">         * @see http://docs.amazonwebservices.com/AWSEC2/2007-03-01/DeveloperGuide/ApiReference-Query-RevokeSecurityGroupIngress.html</span>
<a name="l00554"></a>00554 <span class="comment">         */</span>
<a name="l00555"></a><a class="code" href="a00002_e1a304d3b53ea8747d766e0109c9a51f.html#e1a304d3b53ea8747d766e0109c9a51f">00555</a>         <span class="keyword">public</span> function <a class="code" href="a00002_e1a304d3b53ea8747d766e0109c9a51f.html#e1a304d3b53ea8747d766e0109c9a51f">revoke_security_group_ingress</a>($group_name, $opt = null)
<a name="l00556"></a>00556         {
<a name="l00557"></a>00557                 <span class="keywordflow">if</span> ($group_name)
<a name="l00558"></a>00558                 {
<a name="l00559"></a>00559                         $opt[<span class="stringliteral">'GroupName'</span>] = $group_name;
<a name="l00560"></a>00560                 }
<a name="l00561"></a>00561 
<a name="l00562"></a>00562                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'RevokeSecurityGroupIngress'</span>, $opt, <a class="code" href="a00016_a356f1216db28eb53b627ecb97d64b07.html#a356f1216db28eb53b627ecb97d64b07">EC2_DEFAULT_URL</a>);
<a name="l00563"></a>00563         }
<a name="l00564"></a>00564 }
<a name="l00565"></a>00565 ?&gt;
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 4 23:19:20 2008 for Tarzan Pre-2.0 Trunk Build by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
