<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Tarzan Pre-2.0 Trunk Build: AmazonSDB::delete_attributes</title>
<link href="tarzan.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">
  <div class="navpath"><a class="el" href="a00004.html">AmazonSDB</a>
  </div>
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="a00004_c8e126eeec8a04b7693da7175af39d69.html#c8e126eeec8a04b7693da7175af39d69">__construct</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_91adb5f512c9e2f6225663bc3daea021.html#91adb5f512c9e2f6225663bc3daea021">create_domain</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="a00004_78594f382e633f8432115b2dd5b0e9cc.html#78594f382e633f8432115b2dd5b0e9cc">delete_attributes</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_ff027b1b53382a6292d9fe0101064174.html#ff027b1b53382a6292d9fe0101064174">delete_domain</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_8291d13e0983869c762759337a395e9d.html#8291d13e0983869c762759337a395e9d">get_attributes</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_631357b55145d23b091ac82f7a76b04f.html#631357b55145d23b091ac82f7a76b04f">list_domains</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_43caa054e9a0acb8dadef26977ba9b9b.html#43caa054e9a0acb8dadef26977ba9b9b">put_attributes</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00004_50152c2d14898b9050ef7bb038a832e0.html#50152c2d14898b9050ef7bb038a832e0">query</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top">
<a class="anchor" name="78594f382e633f8432115b2dd5b0e9cc"></a><!-- doxytag: member="AmazonSDB::delete_attributes" ref="78594f382e633f8432115b2dd5b0e9cc" args="($domain_name, $item_name, $keys=null, $returnCurlHandle=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AmazonSDB::delete_attributes           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>domain_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>item_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keys</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>returnCurlHandle</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete Attributes<p>
Deletes one or more attributes associated with the item. If all attributes of an item are deleted, the item is deleted. If you specify DeleteAttributes without attributes or values, all the attributes for the item are deleted. DeleteAttributes is an idempotent operation; running it multiple times on the same item or attribute does not result in an error response.<p>
public <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$domain_name (Required) The name of the domain to create. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$item_name (Required) The name of the item/object to create. This will contain various key-value pairs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$keys (Optional) The name of the key(s) (attribute(s)) to delete from the item. Supports a string value (for single keys), an indexed array (for multiple keys), or an associative array containing one or more key-value pairs (for deleting specific values). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$returnCurlHandle (Optional) A private toggle that will return the CURL handle for the request rather than actually completing the request. This is useful for MultiCURL requests. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="a00008.html">TarzanHTTPResponse</a> </dd></dl>
<h2><a class="anchor" name="example">
Example Usage:</a></h2>
<div class="fragment"><pre class="fragment">&lt;?php
require_once(<span class="stringliteral">'tarzan.class.php'</span>);
<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Instantiate a new AmazonSDB object using the settings from the config.inc.php file.</span>
<span class="comment"> */</span>
$sdb = <span class="keyword">new</span> <a class="code" href="a00004.html">AmazonSDB</a>();

<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Delete all of the "attribute" key-value pairs for this particular domain-item, </span>
<span class="comment"> * thereby deleting the item itself as well.</span>
<span class="comment"> */</span>
$delete = $sdb-&gt;delete_attributes(<span class="stringliteral">'warpshare_test'</span>, <span class="stringliteral">'user_data'</span>);

<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Look at the response to navigate through the headers and body of the response.</span>
<span class="comment"> * Note that this is an object, not an array, and that the body is a SimpleXML object.</span>
<span class="comment"> * </span>
<span class="comment"> * http://php.net/manual/en/simplexml.examples.php</span>
<span class="comment"> */</span>
echo <span class="stringliteral">'&lt;pre&gt;'</span>;
print_r($delete);
echo <span class="stringliteral">'&lt;/pre&gt;'</span>;


<span class="comment">/*========================================================*/</span>

<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Delete only the value for the "name" key.</span>
<span class="comment"> */</span>
$delete = $sdb-&gt;delete_attributes(<span class="stringliteral">'warpshare_test'</span>, <span class="stringliteral">'user_data'</span>, <span class="stringliteral">'name'</span>);

<span class="comment"></span>
<span class="comment">/**</span>
<span class="comment"> * Delete the values for the "name", "email", and "openid" keys.</span>
<span class="comment"> */</span>
$delete = $sdb-&gt;delete_attributes(<span class="stringliteral">'warpshare_test'</span>, <span class="stringliteral">'user_data'</span>, array(
        <span class="stringliteral">'name'</span>, 
        <span class="stringliteral">'email'</span>, 
        <span class="stringliteral">'openid'</span>
));


?&gt;
</pre></div> <dl class="see" compact><dt><b>See also:</b></dt><dd><a href="http://docs.amazonwebservices.com/AmazonSimpleDB/2007-11-07/DeveloperGuide/SDB_API_DeleteAttributes.html">http://docs.amazonwebservices.com/AmazonSimpleDB/2007-11-07/DeveloperGuide/SDB_API_DeleteAttributes.html</a> </dd></dl>

<p>Definition at line <a class="el" href="a00039.html#l00241">241</a> of file <a class="el" href="a00039.html">sdb.class.php</a>.</p>

<p>References <a class="el" href="a00041.html#l00301">TarzanCore::authenticate()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00242"></a>00242         {
<a name="l00243"></a>00243                 $opt = array();
<a name="l00244"></a>00244                 $opt[<span class="stringliteral">'DomainName'</span>] = $domain_name;
<a name="l00245"></a>00245                 $opt[<span class="stringliteral">'ItemName'</span>] = $item_name;
<a name="l00246"></a>00246                 $opt[<span class="stringliteral">'returnCurlHandle'</span>] = $returnCurlHandle;
<a name="l00247"></a>00247 
<a name="l00248"></a>00248                 <span class="comment">// Do we have a key?</span>
<a name="l00249"></a>00249                 <span class="keywordflow">if</span> ($keys)
<a name="l00250"></a>00250                 {
<a name="l00251"></a>00251                         <span class="comment">// An array?</span>
<a name="l00252"></a>00252                         <span class="keywordflow">if</span> (is_array($keys))
<a name="l00253"></a>00253                         {
<a name="l00254"></a>00254                                 <span class="comment">// Indexed array of Attribute Names?</span>
<a name="l00255"></a>00255                                 <span class="keywordflow">if</span> ($this-&gt;util-&gt;ready($keys[0]))
<a name="l00256"></a>00256                                 {
<a name="l00257"></a>00257                                         <span class="keywordflow">for</span> ($x = 0, $i = count($keys); $x &lt; $i; $x++)
<a name="l00258"></a>00258                                         {
<a name="l00259"></a>00259                                                 $opt[<span class="stringliteral">'Attribute.'</span> . (string) $i . <span class="stringliteral">'.Name'</span>] = $keys[$i];
<a name="l00260"></a>00260                                         }
<a name="l00261"></a>00261                                 }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263                                 <span class="comment">// Associative array of Name/Value pairs.</span>
<a name="l00264"></a>00264                                 <span class="keywordflow">else</span>
<a name="l00265"></a>00265                                 {
<a name="l00266"></a>00266                                         $count = 0;
<a name="l00267"></a>00267                                         <span class="keywordflow">foreach</span> ($keys as $k =&gt; $v)
<a name="l00268"></a>00268                                         {
<a name="l00269"></a>00269                                                 $opt[<span class="stringliteral">'Attribute.'</span> . (string) $count . <span class="stringliteral">'.Name'</span>] = $k;
<a name="l00270"></a>00270                                                 $opt[<span class="stringliteral">'Attribute.'</span> . (string) $count . <span class="stringliteral">'.Value'</span>] = $v;
<a name="l00271"></a>00271                                                 $count++;
<a name="l00272"></a>00272                                         }
<a name="l00273"></a>00273                                 }
<a name="l00274"></a>00274                         }
<a name="l00275"></a>00275 
<a name="l00276"></a>00276                         <span class="comment">// Single string Attribute Name.</span>
<a name="l00277"></a>00277                         <span class="keywordflow">else</span>
<a name="l00278"></a>00278                         {
<a name="l00279"></a>00279                                 $opt[<span class="stringliteral">'Attribute.Name'</span>] = $keys;
<a name="l00280"></a>00280                         }
<a name="l00281"></a>00281                 }
<a name="l00282"></a>00282 
<a name="l00283"></a>00283                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="a00006_3fb0bd4332f737732312815e5f4211f8.html#3fb0bd4332f737732312815e5f4211f8">authenticate</a>(<span class="stringliteral">'DeleteAttributes'</span>, $opt, <a class="code" href="a00018_8190cd4624261979beb11b7c5d1b209a.html#8190cd4624261979beb11b7c5d1b209a">SDB_DEFAULT_URL</a>);
<a name="l00284"></a>00284         }
</pre></div>
<p>

</div>
</div><p>
    </td>
  </tr>
</table>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Aug 3 22:48:37 2008 for Tarzan Pre-2.0 Trunk Build by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
